<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="728px" viewBox="-0.5 -0.5 728 1011" content="&lt;mxfile host=&quot;&quot; modified=&quot;2020-06-10T20:33:27.760Z&quot; agent=&quot;5.0 (Macintosh; Intel Mac OS X 10_15_5) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.45.1 Chrome/78.0.3904.130 Electron/7.2.4 Safari/537.36&quot; etag=&quot;YnLgkWwtN2nkhzy863LE&quot; version=&quot;13.1.3&quot;&gt;&lt;diagram id=&quot;kEPYXezzI-eteoRro5Sk&quot; name=&quot;Page-1&quot;&gt;&lt;mxGraphModel dx=&quot;2169&quot; dy=&quot;1416&quot; grid=&quot;1&quot; gridSize=&quot;10&quot; guides=&quot;1&quot; tooltips=&quot;1&quot; connect=&quot;1&quot; arrows=&quot;1&quot; fold=&quot;1&quot; page=&quot;1&quot; pageScale=&quot;1&quot; pageWidth=&quot;850&quot; pageHeight=&quot;1400&quot; math=&quot;0&quot; shadow=&quot;0&quot;&gt;&lt;root&gt;&lt;mxCell id=&quot;0&quot;/&gt;&lt;mxCell id=&quot;1&quot; parent=&quot;0&quot;/&gt;&lt;mxCell id=&quot;5eSl7V-lfJAm6dB7IAey-51&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#0000FF;fontSize=11;fontColor=#000000;exitX=0;exitY=0.5;exitDx=0;exitDy=0;&quot; parent=&quot;1&quot; source=&quot;5eSl7V-lfJAm6dB7IAey-1&quot; target=&quot;5eSl7V-lfJAm6dB7IAey-45&quot; edge=&quot;1&quot;&gt;&lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&lt;mxPoint x=&quot;162.00000000000023&quot; y=&quot;343&quot; as=&quot;targetPoint&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;5eSl7V-lfJAm6dB7IAey-52&quot; value=&quot;trigger&quot; style=&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=#ffffff;fontSize=11;fontColor=#0000FF;&quot; parent=&quot;5eSl7V-lfJAm6dB7IAey-51&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&lt;mxGeometry x=&quot;-0.0792&quot; y=&quot;-1&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&lt;mxPoint as=&quot;offset&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;5eSl7V-lfJAm6dB7IAey-1&quot; value=&quot;CLOSED&quot; style=&quot;ellipse;whiteSpace=wrap;html=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&lt;mxGeometry x=&quot;155&quot; y=&quot;160&quot; width=&quot;70&quot; height=&quot;40&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;5eSl7V-lfJAm6dB7IAey-10&quot; value=&quot;socket.onerror or&amp;lt;br&amp;gt;socket.onclose&amp;lt;br&amp;gt;(~ code 4000 or 1000)&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;&quot; parent=&quot;1&quot; source=&quot;5eSl7V-lfJAm6dB7IAey-2&quot; target=&quot;5eSl7V-lfJAm6dB7IAey-4&quot; edge=&quot;1&quot;&gt;&lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;5eSl7V-lfJAm6dB7IAey-14&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;fontSize=11;entryX=0.5;entryY=0;entryDx=0;entryDy=0;&quot; parent=&quot;1&quot; source=&quot;5eSl7V-lfJAm6dB7IAey-2&quot; target=&quot;5eSl7V-lfJAm6dB7IAey-1&quot; edge=&quot;1&quot;&gt;&lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&lt;mxPoint x=&quot;450&quot; y=&quot;70&quot; as=&quot;targetPoint&quot;/&gt;&lt;Array as=&quot;points&quot;&gt;&lt;mxPoint x=&quot;450&quot; y=&quot;140&quot;/&gt;&lt;mxPoint x=&quot;190&quot; y=&quot;140&quot;/&gt;&lt;/Array&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;5eSl7V-lfJAm6dB7IAey-15&quot; value=&quot;socket.onclose&amp;lt;br&amp;gt;(code 4000 or 1000)&quot; style=&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=#ffffff;fontSize=11;&quot; parent=&quot;5eSl7V-lfJAm6dB7IAey-14&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&lt;mxGeometry x=&quot;0.0353&quot; y=&quot;-2&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&lt;mxPoint as=&quot;offset&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;5eSl7V-lfJAm6dB7IAey-2&quot; value=&quot;OPENING&quot; style=&quot;ellipse;whiteSpace=wrap;html=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&lt;mxGeometry x=&quot;415&quot; y=&quot;160&quot; width=&quot;70&quot; height=&quot;40&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;5eSl7V-lfJAm6dB7IAey-3&quot; value=&quot;OPEN&quot; style=&quot;ellipse;whiteSpace=wrap;html=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&lt;mxGeometry x=&quot;605&quot; y=&quot;160&quot; width=&quot;70&quot; height=&quot;40&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;5eSl7V-lfJAm6dB7IAey-16&quot; value=&quot;socket.onclose&amp;lt;br&amp;gt;(code 4000 or 1000)&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontSize=11;&quot; parent=&quot;1&quot; source=&quot;5eSl7V-lfJAm6dB7IAey-4&quot; target=&quot;5eSl7V-lfJAm6dB7IAey-1&quot; edge=&quot;1&quot;&gt;&lt;mxGeometry x=&quot;-0.2877&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&lt;mxPoint as=&quot;offset&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;5eSl7V-lfJAm6dB7IAey-47&quot; value=&quot;&amp;lt;font color=&amp;quot;#0000ff&amp;quot;&amp;gt;trigger&amp;lt;/font&amp;gt;&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontSize=11;strokeColor=#0000FF;&quot; parent=&quot;1&quot; source=&quot;5eSl7V-lfJAm6dB7IAey-4&quot; target=&quot;5eSl7V-lfJAm6dB7IAey-45&quot; edge=&quot;1&quot;&gt;&lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;5eSl7V-lfJAm6dB7IAey-4&quot; value=&quot;RETRYING&quot; style=&quot;ellipse;whiteSpace=wrap;html=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&lt;mxGeometry x=&quot;417&quot; y=&quot;273&quot; width=&quot;70&quot; height=&quot;40&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;5eSl7V-lfJAm6dB7IAey-5&quot; value=&quot;&quot; style=&quot;endArrow=classic;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;&quot; parent=&quot;1&quot; source=&quot;5eSl7V-lfJAm6dB7IAey-1&quot; target=&quot;5eSl7V-lfJAm6dB7IAey-2&quot; edge=&quot;1&quot;&gt;&lt;mxGeometry width=&quot;50&quot; height=&quot;50&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&lt;mxPoint x=&quot;365&quot; y=&quot;480&quot; as=&quot;sourcePoint&quot;/&gt;&lt;mxPoint x=&quot;415&quot; y=&quot;430&quot; as=&quot;targetPoint&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;5eSl7V-lfJAm6dB7IAey-9&quot; value=&quot;&amp;amp;nbsp;openWebsocketConnection&amp;amp;nbsp;&quot; style=&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=#ffffff;fontSize=11;&quot; parent=&quot;5eSl7V-lfJAm6dB7IAey-5&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&lt;mxGeometry x=&quot;-0.0222&quot; y=&quot;1&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&lt;mxPoint as=&quot;offset&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;5eSl7V-lfJAm6dB7IAey-7&quot; value=&quot;&amp;lt;font style=&amp;quot;font-size: 11px&amp;quot;&amp;gt;&amp;amp;nbsp;socket.onopen&amp;amp;nbsp;&amp;lt;/font&amp;gt;&quot; style=&quot;endArrow=classic;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;&quot; parent=&quot;1&quot; source=&quot;5eSl7V-lfJAm6dB7IAey-2&quot; target=&quot;5eSl7V-lfJAm6dB7IAey-3&quot; edge=&quot;1&quot;&gt;&lt;mxGeometry width=&quot;50&quot; height=&quot;50&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&lt;mxPoint x=&quot;365&quot; y=&quot;480&quot; as=&quot;sourcePoint&quot;/&gt;&lt;mxPoint x=&quot;415&quot; y=&quot;430&quot; as=&quot;targetPoint&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;5eSl7V-lfJAm6dB7IAey-12&quot; value=&quot;socket.onerror or&amp;lt;br&amp;gt;socket.onclose&amp;lt;br&amp;gt;(~ code 4000 or 1000)&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;&quot; parent=&quot;1&quot; source=&quot;5eSl7V-lfJAm6dB7IAey-3&quot; target=&quot;5eSl7V-lfJAm6dB7IAey-4&quot; edge=&quot;1&quot;&gt;&lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&lt;mxPoint x=&quot;460&quot; y=&quot;210&quot; as=&quot;sourcePoint&quot;/&gt;&lt;mxPoint x=&quot;460&quot; y=&quot;330&quot; as=&quot;targetPoint&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;5eSl7V-lfJAm6dB7IAey-13&quot; value=&quot;closeWebsocketConnection&amp;lt;br&amp;gt;or&amp;lt;br&amp;gt;socket.onclose&amp;lt;br&amp;gt;(code 4000 or 1000)&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;&quot; parent=&quot;1&quot; source=&quot;5eSl7V-lfJAm6dB7IAey-3&quot; target=&quot;5eSl7V-lfJAm6dB7IAey-1&quot; edge=&quot;1&quot;&gt;&lt;mxGeometry x=&quot;-0.3051&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&lt;mxPoint x=&quot;690&quot; y=&quot;210&quot; as=&quot;sourcePoint&quot;/&gt;&lt;mxPoint x=&quot;495&quot; y=&quot;350&quot; as=&quot;targetPoint&quot;/&gt;&lt;Array as=&quot;points&quot;&gt;&lt;mxPoint x=&quot;640&quot; y=&quot;90&quot;/&gt;&lt;mxPoint x=&quot;190&quot; y=&quot;90&quot;/&gt;&lt;/Array&gt;&lt;mxPoint as=&quot;offset&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;5eSl7V-lfJAm6dB7IAey-17&quot; value=&quot;&amp;lt;font style=&amp;quot;font-size: 14px&amp;quot;&amp;gt;Websocket connection State Machine&amp;lt;/font&amp;gt;&quot; style=&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=11;fontStyle=1&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&lt;mxGeometry x=&quot;317&quot; y=&quot;30&quot; width=&quot;270&quot; height=&quot;20&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;5eSl7V-lfJAm6dB7IAey-20&quot; value=&quot;&amp;lt;font style=&amp;quot;font-size: 14px&amp;quot;&amp;gt;Group subscriptions State Machine&amp;lt;/font&amp;gt;&quot; style=&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=11;fontStyle=1&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&lt;mxGeometry x=&quot;326&quot; y=&quot;400&quot; width=&quot;250&quot; height=&quot;20&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;5eSl7V-lfJAm6dB7IAey-28&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontSize=11;&quot; parent=&quot;1&quot; source=&quot;5eSl7V-lfJAm6dB7IAey-21&quot; target=&quot;5eSl7V-lfJAm6dB7IAey-23&quot; edge=&quot;1&quot;&gt;&lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;5eSl7V-lfJAm6dB7IAey-29&quot; value=&quot;_requestSubscriptions&quot; style=&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=#ffffff;fontSize=11;&quot; parent=&quot;5eSl7V-lfJAm6dB7IAey-28&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&lt;mxGeometry x=&quot;-0.275&quot; y=&quot;4&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&lt;mxPoint x=&quot;22&quot; y=&quot;4&quot; as=&quot;offset&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;5eSl7V-lfJAm6dB7IAey-53&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#000000;fontSize=11;fontColor=#0000FF;&quot; parent=&quot;1&quot; source=&quot;5eSl7V-lfJAm6dB7IAey-21&quot; edge=&quot;1&quot;&gt;&lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&lt;mxPoint x=&quot;156&quot; y=&quot;537&quot; as=&quot;targetPoint&quot;/&gt;&lt;Array as=&quot;points&quot;&gt;&lt;mxPoint x=&quot;336&quot; y=&quot;543&quot;/&gt;&lt;mxPoint x=&quot;336&quot; y=&quot;497&quot;/&gt;&lt;mxPoint x=&quot;156&quot; y=&quot;497&quot;/&gt;&lt;/Array&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;5eSl7V-lfJAm6dB7IAey-55&quot; value=&quot;&amp;lt;span style=&amp;quot;color: rgb(0 , 0 , 0) ; white-space: normal&amp;quot;&amp;gt;_resetSubscriptions([])&amp;lt;/span&amp;gt;&quot; style=&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=#ffffff;fontSize=11;fontColor=#0000FF;&quot; parent=&quot;5eSl7V-lfJAm6dB7IAey-53&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&lt;mxGeometry x=&quot;0.1829&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&lt;mxPoint as=&quot;offset&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;5eSl7V-lfJAm6dB7IAey-21&quot; value=&quot;PENDING&quot; style=&quot;ellipse;whiteSpace=wrap;html=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&lt;mxGeometry x=&quot;356&quot; y=&quot;537&quot; width=&quot;70&quot; height=&quot;40&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;5eSl7V-lfJAm6dB7IAey-27&quot; value=&quot;&amp;lt;div&amp;gt;addGroup&amp;lt;br&amp;gt;&amp;lt;/div&amp;gt;&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=11;&quot; parent=&quot;1&quot; target=&quot;5eSl7V-lfJAm6dB7IAey-21&quot; edge=&quot;1&quot;&gt;&lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&lt;mxPoint x=&quot;196&quot; y=&quot;557&quot; as=&quot;sourcePoint&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;5eSl7V-lfJAm6dB7IAey-22&quot; value=&quot;&amp;lt;i&amp;gt;Non Existing&amp;lt;/i&amp;gt;&quot; style=&quot;ellipse;whiteSpace=wrap;html=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&lt;mxGeometry x=&quot;110&quot; y=&quot;537&quot; width=&quot;80&quot; height=&quot;40&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;5eSl7V-lfJAm6dB7IAey-30&quot; value=&quot;_receiveSubscriptionConfirmation&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=11;&quot; parent=&quot;1&quot; source=&quot;5eSl7V-lfJAm6dB7IAey-23&quot; target=&quot;5eSl7V-lfJAm6dB7IAey-24&quot; edge=&quot;1&quot;&gt;&lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;5eSl7V-lfJAm6dB7IAey-38&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=11;&quot; parent=&quot;1&quot; source=&quot;5eSl7V-lfJAm6dB7IAey-23&quot; target=&quot;5eSl7V-lfJAm6dB7IAey-21&quot; edge=&quot;1&quot;&gt;&lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&lt;Array as=&quot;points&quot;&gt;&lt;mxPoint x=&quot;721&quot; y=&quot;497&quot;/&gt;&lt;mxPoint x=&quot;391&quot; y=&quot;497&quot;/&gt;&lt;/Array&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;5eSl7V-lfJAm6dB7IAey-40&quot; value=&quot;&amp;lt;span style=&amp;quot;white-space: normal&amp;quot;&amp;gt;_resetSubscriptions(*)&amp;lt;/span&amp;gt;&quot; style=&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=#ffffff;fontSize=11;&quot; parent=&quot;5eSl7V-lfJAm6dB7IAey-38&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&lt;mxGeometry x=&quot;0.0703&quot; y=&quot;-2&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&lt;mxPoint as=&quot;offset&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;5eSl7V-lfJAm6dB7IAey-58&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#000000;fontSize=11;fontColor=#0000FF;&quot; parent=&quot;1&quot; source=&quot;5eSl7V-lfJAm6dB7IAey-23&quot; edge=&quot;1&quot;&gt;&lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&lt;mxPoint x=&quot;156&quot; y=&quot;537&quot; as=&quot;targetPoint&quot;/&gt;&lt;Array as=&quot;points&quot;&gt;&lt;mxPoint x=&quot;721&quot; y=&quot;467&quot;/&gt;&lt;mxPoint x=&quot;156&quot; y=&quot;467&quot;/&gt;&lt;/Array&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;5eSl7V-lfJAm6dB7IAey-59&quot; value=&quot;&amp;lt;span style=&amp;quot;color: rgb(0 , 0 , 0) ; white-space: normal&amp;quot;&amp;gt;_resetSubscriptions([])&amp;lt;/span&amp;gt;&quot; style=&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=#ffffff;fontSize=11;fontColor=#0000FF;&quot; parent=&quot;5eSl7V-lfJAm6dB7IAey-58&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&lt;mxGeometry x=&quot;0.0383&quot; y=&quot;-1&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&lt;mxPoint as=&quot;offset&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;5eSl7V-lfJAm6dB7IAey-23&quot; value=&quot;REQUESTING&quot; style=&quot;ellipse;whiteSpace=wrap;html=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&lt;mxGeometry x=&quot;676&quot; y=&quot;537&quot; width=&quot;90&quot; height=&quot;40&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;5eSl7V-lfJAm6dB7IAey-26&quot; value=&quot;&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=11;&quot; parent=&quot;1&quot; source=&quot;5eSl7V-lfJAm6dB7IAey-24&quot; target=&quot;5eSl7V-lfJAm6dB7IAey-25&quot; edge=&quot;1&quot;&gt;&lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;5eSl7V-lfJAm6dB7IAey-31&quot; value=&quot;requestGroupRemoval&quot; style=&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=#ffffff;fontSize=11;&quot; parent=&quot;5eSl7V-lfJAm6dB7IAey-26&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&lt;mxGeometry x=&quot;-0.1053&quot; y=&quot;1&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&lt;mxPoint as=&quot;offset&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;5eSl7V-lfJAm6dB7IAey-36&quot; style=&quot;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=0;exitDy=0;entryX=1;entryY=1;entryDx=0;entryDy=0;fontSize=11;&quot; parent=&quot;1&quot; source=&quot;5eSl7V-lfJAm6dB7IAey-24&quot; target=&quot;5eSl7V-lfJAm6dB7IAey-21&quot; edge=&quot;1&quot;&gt;&lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;5eSl7V-lfJAm6dB7IAey-37&quot; value=&quot;&amp;lt;span style=&amp;quot;white-space: normal&amp;quot;&amp;gt;_resetSubscriptions(*)&amp;lt;/span&amp;gt;&quot; style=&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=#ffffff;fontSize=11;fontColor=#000000;&quot; parent=&quot;5eSl7V-lfJAm6dB7IAey-36&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&lt;mxGeometry x=&quot;0.0557&quot; y=&quot;-4&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&lt;mxPoint as=&quot;offset&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;5eSl7V-lfJAm6dB7IAey-56&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;strokeColor=#000000;fontSize=11;fontColor=#0000FF;&quot; parent=&quot;1&quot; source=&quot;5eSl7V-lfJAm6dB7IAey-24&quot; edge=&quot;1&quot;&gt;&lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&lt;mxPoint x=&quot;156&quot; y=&quot;577&quot; as=&quot;targetPoint&quot;/&gt;&lt;Array as=&quot;points&quot;&gt;&lt;mxPoint x=&quot;721&quot; y=&quot;720&quot;/&gt;&lt;mxPoint x=&quot;156&quot; y=&quot;720&quot;/&gt;&lt;/Array&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;5eSl7V-lfJAm6dB7IAey-57&quot; value=&quot;&amp;lt;span style=&amp;quot;color: rgb(0 , 0 , 0) ; white-space: normal&amp;quot;&amp;gt;_resetSubscriptions([])&amp;lt;/span&amp;gt;&quot; style=&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=#ffffff;fontSize=11;fontColor=#0000FF;&quot; parent=&quot;5eSl7V-lfJAm6dB7IAey-56&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&lt;mxGeometry x=&quot;-0.2276&quot; y=&quot;-4&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&lt;mxPoint as=&quot;offset&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;5eSl7V-lfJAm6dB7IAey-24&quot; value=&quot;SUBSCRIBED&quot; style=&quot;ellipse;whiteSpace=wrap;html=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&lt;mxGeometry x=&quot;676&quot; y=&quot;657&quot; width=&quot;90&quot; height=&quot;40&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;5eSl7V-lfJAm6dB7IAey-32&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontSize=11;&quot; parent=&quot;1&quot; source=&quot;5eSl7V-lfJAm6dB7IAey-25&quot; edge=&quot;1&quot;&gt;&lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&lt;mxPoint x=&quot;156&quot; y=&quot;577&quot; as=&quot;targetPoint&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;5eSl7V-lfJAm6dB7IAey-33&quot; value=&quot;_receiveUnsubscriptionConfirmation&amp;lt;br&amp;gt;or&amp;lt;br&amp;gt;&amp;lt;span style=&amp;quot;white-space: normal&amp;quot;&amp;gt;_resetSubscriptions([ ])&amp;lt;/span&amp;gt;&quot; style=&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=#ffffff;fontSize=11;&quot; parent=&quot;5eSl7V-lfJAm6dB7IAey-32&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&lt;mxGeometry x=&quot;-0.224&quot; y=&quot;2&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&lt;mxPoint x=&quot;-63&quot; y=&quot;-42&quot; as=&quot;offset&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;5eSl7V-lfJAm6dB7IAey-34&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontSize=11;&quot; parent=&quot;1&quot; source=&quot;5eSl7V-lfJAm6dB7IAey-25&quot; target=&quot;5eSl7V-lfJAm6dB7IAey-21&quot; edge=&quot;1&quot;&gt;&lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;5eSl7V-lfJAm6dB7IAey-35&quot; value=&quot;&amp;lt;span style=&amp;quot;white-space: normal&amp;quot;&amp;gt;_resetSubscriptions(*)&amp;lt;br&amp;gt;or&amp;lt;br&amp;gt;&amp;lt;/span&amp;gt;addGroup&amp;lt;span style=&amp;quot;white-space: normal&amp;quot;&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/span&amp;gt;&quot; style=&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=#ffffff;fontSize=11;fontColor=#000000;&quot; parent=&quot;5eSl7V-lfJAm6dB7IAey-34&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&lt;mxGeometry x=&quot;-0.2&quot; y=&quot;1&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&lt;mxPoint as=&quot;offset&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;5eSl7V-lfJAm6dB7IAey-25&quot; value=&quot;UNSUBSCRIBING&quot; style=&quot;ellipse;whiteSpace=wrap;html=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&lt;mxGeometry x=&quot;336&quot; y=&quot;657&quot; width=&quot;110&quot; height=&quot;40&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;5eSl7V-lfJAm6dB7IAey-41&quot; value=&quot;&amp;lt;div style=&amp;quot;text-align: justify&amp;quot;&amp;gt;&amp;lt;span&amp;gt;For each group an object is added to the state.ws.subscriptions array.&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;text-align: justify&amp;quot;&amp;gt;&amp;lt;span&amp;gt;Each object has a status that follows the following diagram&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&quot; style=&quot;text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=11;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&lt;mxGeometry x=&quot;296&quot; y=&quot;420&quot; width=&quot;350&quot; height=&quot;30&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;5eSl7V-lfJAm6dB7IAey-45&quot; value=&quot;&amp;lt;span style=&amp;quot;color: rgb(0 , 0 , 255) ; white-space: normal ; background-color: rgb(255 , 255 , 255)&amp;quot;&amp;gt;_resetSubscriptions(*)&amp;lt;/span&amp;gt;&quot; style=&quot;rounded=0;whiteSpace=wrap;html=1;fontSize=11;strokeColor=#0000FF;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&lt;mxGeometry x=&quot;233&quot; y=&quot;320&quot; width=&quot;160&quot; height=&quot;30&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;5eSl7V-lfJAm6dB7IAey-48&quot; value=&quot;&amp;lt;font color=&amp;quot;#0000ff&amp;quot;&amp;gt;trigger&amp;lt;/font&amp;gt;&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=11;strokeColor=#0000FF;&quot; parent=&quot;1&quot; source=&quot;5eSl7V-lfJAm6dB7IAey-3&quot; target=&quot;5eSl7V-lfJAm6dB7IAey-49&quot; edge=&quot;1&quot;&gt;&lt;mxGeometry x=&quot;-0.1483&quot; y=&quot;-20&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&lt;mxPoint x=&quot;594.9999999999998&quot; y=&quot;230&quot; as=&quot;sourcePoint&quot;/&gt;&lt;mxPoint x=&quot;20&quot; y=&quot;20&quot; as=&quot;offset&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;5eSl7V-lfJAm6dB7IAey-49&quot; value=&quot;&amp;lt;span style=&amp;quot;white-space: nowrap ; background-color: rgb(255 , 255 , 255)&amp;quot;&amp;gt;&amp;lt;font color=&amp;quot;#0000ff&amp;quot;&amp;gt;_requestSubscriptions&amp;lt;/font&amp;gt;&amp;lt;/span&amp;gt;&quot; style=&quot;rounded=0;whiteSpace=wrap;html=1;fontSize=11;strokeColor=#0000FF;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&lt;mxGeometry x=&quot;657&quot; y=&quot;240&quot; width=&quot;125&quot; height=&quot;20&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;5eSl7V-lfJAm6dB7IAey-61&quot; value=&quot;This means, change all subscriptions to PENDING&quot; style=&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=11;fontColor=#0000FF;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&lt;mxGeometry x=&quot;198&quot; y=&quot;350&quot; width=&quot;260&quot; height=&quot;20&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;qNFNDbe4jiyq5inCQdv4-1&quot; value=&quot;N=0&quot; style=&quot;ellipse;whiteSpace=wrap;html=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&lt;mxGeometry x=&quot;253&quot; y=&quot;821.1500000000001&quot; width=&quot;70&quot; height=&quot;40&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;qNFNDbe4jiyq5inCQdv4-8&quot; value=&quot;removeGroup&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;&quot; parent=&quot;1&quot; source=&quot;qNFNDbe4jiyq5inCQdv4-5&quot; target=&quot;qNFNDbe4jiyq5inCQdv4-7&quot; edge=&quot;1&quot;&gt;&lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;qNFNDbe4jiyq5inCQdv4-5&quot; value=&quot;N=N+1&quot; style=&quot;ellipse;whiteSpace=wrap;html=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&lt;mxGeometry x=&quot;477&quot; y=&quot;821.1500000000001&quot; width=&quot;70&quot; height=&quot;40&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;qNFNDbe4jiyq5inCQdv4-6&quot; value=&quot;&amp;lt;div&amp;gt;addGroup&amp;lt;br&amp;gt;&amp;lt;/div&amp;gt;&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=11;exitX=1;exitY=0.5;exitDx=0;exitDy=0;&quot; parent=&quot;1&quot; source=&quot;qNFNDbe4jiyq5inCQdv4-1&quot; target=&quot;qNFNDbe4jiyq5inCQdv4-5&quot; edge=&quot;1&quot;&gt;&lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&lt;mxPoint x=&quot;330&quot; y=&quot;841.1500000000001&quot; as=&quot;sourcePoint&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;qNFNDbe4jiyq5inCQdv4-14&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;&quot; parent=&quot;1&quot; source=&quot;qNFNDbe4jiyq5inCQdv4-7&quot; target=&quot;qNFNDbe4jiyq5inCQdv4-1&quot; edge=&quot;1&quot;&gt;&lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;qNFNDbe4jiyq5inCQdv4-15&quot; value=&quot;removeGroup&amp;lt;br&amp;gt;(N == 1)&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];&quot; parent=&quot;qNFNDbe4jiyq5inCQdv4-14&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&lt;mxGeometry x=&quot;-0.1778&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&lt;mxPoint x=&quot;17.86&quot; as=&quot;offset&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;qNFNDbe4jiyq5inCQdv4-7&quot; value=&quot;N=N-1&quot; style=&quot;ellipse;whiteSpace=wrap;html=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&lt;mxGeometry x=&quot;477&quot; y=&quot;921.1500000000001&quot; width=&quot;70&quot; height=&quot;40&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;qNFNDbe4jiyq5inCQdv4-9&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;&quot; parent=&quot;1&quot; source=&quot;qNFNDbe4jiyq5inCQdv4-5&quot; target=&quot;qNFNDbe4jiyq5inCQdv4-5&quot; edge=&quot;1&quot;&gt;&lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&lt;Array as=&quot;points&quot;&gt;&lt;mxPoint x=&quot;512&quot; y=&quot;790&quot;/&gt;&lt;mxPoint x=&quot;600&quot; y=&quot;790&quot;/&gt;&lt;mxPoint x=&quot;600&quot; y=&quot;841&quot;/&gt;&lt;/Array&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;qNFNDbe4jiyq5inCQdv4-10&quot; value=&quot;addGroup&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];&quot; parent=&quot;qNFNDbe4jiyq5inCQdv4-9&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&lt;mxGeometry x=&quot;0.3819&quot; y=&quot;-1&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&lt;mxPoint y=&quot;-10.86&quot; as=&quot;offset&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;qNFNDbe4jiyq5inCQdv4-11&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;&quot; parent=&quot;1&quot; source=&quot;qNFNDbe4jiyq5inCQdv4-7&quot; target=&quot;qNFNDbe4jiyq5inCQdv4-7&quot; edge=&quot;1&quot;&gt;&lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&lt;Array as=&quot;points&quot;&gt;&lt;mxPoint x=&quot;620&quot; y=&quot;941.1500000000001&quot;/&gt;&lt;mxPoint x=&quot;620&quot; y=&quot;991.1500000000001&quot;/&gt;&lt;mxPoint x=&quot;512&quot; y=&quot;991.1500000000001&quot;/&gt;&lt;/Array&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;qNFNDbe4jiyq5inCQdv4-12&quot; value=&quot;removeGroup&amp;lt;br&amp;gt;(N &amp;amp;gt; 1)&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];&quot; parent=&quot;qNFNDbe4jiyq5inCQdv4-11&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&lt;mxGeometry x=&quot;-0.3395&quot; y=&quot;-2&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&lt;mxPoint x=&quot;3.97&quot; y=&quot;16.74&quot; as=&quot;offset&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;qNFNDbe4jiyq5inCQdv4-16&quot; value=&quot;&amp;lt;font color=&amp;quot;#0000ff&amp;quot;&amp;gt;trigger&amp;lt;/font&amp;gt;&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=11;strokeColor=#0000FF;&quot; parent=&quot;1&quot; edge=&quot;1&quot;&gt;&lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&lt;mxPoint x=&quot;384.5&quot; y=&quot;961.1500000000001&quot; as=&quot;sourcePoint&quot;/&gt;&lt;mxPoint x=&quot;384.5&quot; y=&quot;1011.1500000000001&quot; as=&quot;targetPoint&quot;/&gt;&lt;Array as=&quot;points&quot;&gt;&lt;mxPoint x=&quot;384.5&quot; y=&quot;961.1500000000001&quot;/&gt;&lt;/Array&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;qNFNDbe4jiyq5inCQdv4-17&quot; value=&quot;&amp;lt;font color=&amp;quot;#0000ff&amp;quot;&amp;gt;requestGroupRemoval&amp;lt;/font&amp;gt;&quot; style=&quot;rounded=0;whiteSpace=wrap;html=1;fontSize=11;strokeColor=#0000FF;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&lt;mxGeometry x=&quot;304&quot; y=&quot;1009.1500000000001&quot; width=&quot;154&quot; height=&quot;30&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;qNFNDbe4jiyq5inCQdv4-18&quot; value=&quot;&amp;lt;div style=&amp;quot;text-align: justify&amp;quot;&amp;gt;Also, each group has a counter (N) that counts how many components have subscribed to that group.&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;text-align: justify&amp;quot;&amp;gt;The subscription is only removed when the counter reaches zero again&amp;lt;/div&amp;gt;&quot; style=&quot;text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=11;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&lt;mxGeometry x=&quot;203&quot; y=&quot;750&quot; width=&quot;510&quot; height=&quot;30&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;/root&gt;&lt;/mxGraphModel&gt;&lt;/diagram&gt;&lt;/mxfile&gt;" onclick="(function(svg){var src=window.event.target||window.event.srcElement;while (src!=null&amp;&amp;src.nodeName.toLowerCase()!='a'){src=src.parentNode;}if(src==null){if(svg.wnd!=null&amp;&amp;!svg.wnd.closed){svg.wnd.focus();}else{var r=function(evt){if(evt.data=='ready'&amp;&amp;evt.source==svg.wnd){svg.wnd.postMessage(decodeURIComponent(svg.getAttribute('content')),'*');window.removeEventListener('message',r);}};window.addEventListener('message',r);svg.wnd=window.open('https://app.diagrams.net/?client=1&amp;lightbox=1&amp;edit=_blank');}}})(this);" style="cursor:pointer;max-width:100%;max-height:1011px;"><defs/><g><path d="M 79 150 L 59 150 L 59 305 L 150.63 305" fill="none" stroke="#0000ff" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 155.88 305 L 148.88 308.5 L 150.63 305 L 148.88 301.5 Z" fill="#0000ff" stroke="#0000ff" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 257px; margin-left: 59px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #0000FF; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">trigger</div></div></div></foreignObject><text x="59" y="260" fill="#0000FF" font-family="Helvetica" font-size="11px" text-anchor="middle">trigger</text></switch></g><ellipse cx="114" cy="150" rx="35" ry="20" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 68px; height: 1px; padding-top: 150px; margin-left: 80px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">CLOSED</div></div></div></foreignObject><text x="114" y="154" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">CLOSED</text></switch></g><path d="M 374 170 L 374 206.5 L 376 206.5 L 376 236.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 376 241.88 L 372.5 234.88 L 376 236.63 L 379.5 234.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 207px; margin-left: 376px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">socket.onerror or<br />socket.onclose<br />(~ code 4000 or 1000)</div></div></div></foreignObject><text x="376" y="210" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">socket.onerror or...</text></switch></g><path d="M 374 130 L 374 110 L 114 110 L 114 123.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 114 128.88 L 110.5 121.88 L 114 123.63 L 117.5 121.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 109px; margin-left: 240px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">socket.onclose<br />(code 4000 or 1000)</div></div></div></foreignObject><text x="240" y="112" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">socket.onclose...</text></switch></g><ellipse cx="374" cy="150" rx="35" ry="20" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 68px; height: 1px; padding-top: 150px; margin-left: 340px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">OPENING</div></div></div></foreignObject><text x="374" y="154" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">OPENING</text></switch></g><ellipse cx="564" cy="150" rx="35" ry="20" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 68px; height: 1px; padding-top: 150px; margin-left: 530px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">OPEN</div></div></div></foreignObject><text x="564" y="154" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">OPEN</text></switch></g><path d="M 341 263 L 114 263 L 114 176.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 114 171.12 L 117.5 178.12 L 114 176.37 L 110.5 178.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 263px; margin-left: 227px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">socket.onclose<br />(code 4000 or 1000)</div></div></div></foreignObject><text x="227" y="266" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">socket.onclose...</text></switch></g><path d="M 376 283 L 376 305 L 323.37 305" fill="none" stroke="#0000ff" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 318.12 305 L 325.12 301.5 L 323.37 305 L 325.12 308.5 Z" fill="#0000ff" stroke="#0000ff" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 305px; margin-left: 357px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; "><font color="#0000ff">trigger</font></div></div></div></foreignObject><text x="357" y="308" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">trigger</text></switch></g><ellipse cx="376" cy="263" rx="35" ry="20" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 68px; height: 1px; padding-top: 263px; margin-left: 342px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">RETRYING</div></div></div></foreignObject><text x="376" y="267" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">RETRYING</text></switch></g><path d="M 149 150 L 332.63 150" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 337.88 150 L 330.88 153.5 L 332.63 150 L 330.88 146.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 150px; margin-left: 243px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; "> openWebsocketConnection </div></div></div></foreignObject><text x="243" y="153" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle"> openWebsocketConnection </text></switch></g><path d="M 409 150 L 522.63 150" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 527.88 150 L 520.88 153.5 L 522.63 150 L 520.88 146.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 150px; margin-left: 469px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; "><font style="font-size: 11px"> socket.onopen </font></div></div></div></foreignObject><text x="469" y="153" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">socket.on...</text></switch></g><path d="M 564 170 L 564 263 L 417.37 263" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 412.12 263 L 419.12 259.5 L 417.37 263 L 419.12 266.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 263px; margin-left: 534px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">socket.onerror or<br />socket.onclose<br />(~ code 4000 or 1000)</div></div></div></foreignObject><text x="534" y="266" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">socket.onerror or...</text></switch></g><path d="M 564 130 L 564 60 L 114 60 L 114 123.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 114 128.88 L 110.5 121.88 L 114 123.63 L 117.5 121.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 60px; margin-left: 429px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">closeWebsocketConnection<br />or<br />socket.onclose<br />(code 4000 or 1000)</div></div></div></foreignObject><text x="429" y="63" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">closeWebsocketConnection...</text></switch></g><rect x="241" y="0" width="270" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 10px; margin-left: 376px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap; "><font style="font-size: 14px">Websocket connection State Machine</font></div></div></div></foreignObject><text x="376" y="13" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle" font-weight="bold">Websocket connection State Machine</text></switch></g><rect x="250" y="370" width="250" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 380px; margin-left: 375px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap; "><font style="font-size: 14px">Group subscriptions State Machine</font></div></div></div></foreignObject><text x="375" y="383" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle" font-weight="bold">Group subscriptions State Machine</text></switch></g><path d="M 350 527 L 593.63 527" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 598.88 527 L 591.88 530.5 L 593.63 527 L 591.88 523.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 528px; margin-left: 464px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">_requestSubscriptions</div></div></div></foreignObject><text x="464" y="531" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">_requestSubscriptions</text></switch></g><path d="M 290.25 512.86 L 260 512.9 L 260 467 L 80 467 L 80 500.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 80 505.88 L 76.5 498.88 L 80 500.63 L 83.5 498.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 468px; margin-left: 162px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #0000FF; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; "><span style="color: rgb(0 , 0 , 0) ; white-space: normal">_resetSubscriptions([])</span></div></div></div></foreignObject><text x="162" y="471" fill="#0000FF" font-family="Helvetica" font-size="11px" text-anchor="middle">_resetSubscriptions([])</text></switch></g><ellipse cx="315" cy="527" rx="35" ry="20" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 68px; height: 1px; padding-top: 527px; margin-left: 281px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">PENDING</div></div></div></foreignObject><text x="315" y="531" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">PENDING</text></switch></g><path d="M 120 527 L 273.63 527" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 278.88 527 L 271.88 530.5 L 273.63 527 L 271.88 523.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 527px; margin-left: 200px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; "><div>addGroup<br /></div></div></div></div></foreignObject><text x="200" y="530" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">addGroup&#xa;</text></switch></g><ellipse cx="74" cy="527" rx="40" ry="20" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 527px; margin-left: 35px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><i>Non Existing</i></div></div></div></foreignObject><text x="74" y="531" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Non Existing</text></switch></g><path d="M 645 547 L 645 620.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 645 625.88 L 641.5 618.88 L 645 620.63 L 648.5 618.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 587px; margin-left: 645px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">_receiveSubscriptionConfirmation</div></div></div></foreignObject><text x="645" y="590" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">_receiveSubscriptionConfirmation</text></switch></g><path d="M 645 507 L 645 467 L 315 467 L 315 500.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 315 505.88 L 311.5 498.88 L 315 500.63 L 318.5 498.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 466px; margin-left: 467px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; "><span style="white-space: normal">_resetSubscriptions(*)</span></div></div></div></foreignObject><text x="467" y="469" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">_resetSubscriptions(*)</text></switch></g><path d="M 645 507 L 645 437 L 80 437 L 80 500.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 80 505.88 L 76.5 498.88 L 80 500.63 L 83.5 498.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 437px; margin-left: 350px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #0000FF; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; "><span style="color: rgb(0 , 0 , 0) ; white-space: normal">_resetSubscriptions([])</span></div></div></div></foreignObject><text x="350" y="440" fill="#0000FF" font-family="Helvetica" font-size="11px" text-anchor="middle">_resetSubscriptions([])</text></switch></g><ellipse cx="645" cy="527" rx="45" ry="20" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 88px; height: 1px; padding-top: 527px; margin-left: 601px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">REQUESTING</div></div></div></foreignObject><text x="645" y="531" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">REQUESTING</text></switch></g><path d="M 600 647 L 376.37 647" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 371.12 647 L 378.12 643.5 L 376.37 647 L 378.12 650.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 649px; margin-left: 498px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">requestGroupRemoval</div></div></div></foreignObject><text x="498" y="652" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">requestGroupRemoval</text></switch></g><path d="M 613.18 632.86 L 345.79 543.17" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 340.81 541.5 L 348.56 540.41 L 345.79 543.17 L 346.33 547.04 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 581px; margin-left: 471px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; "><span style="white-space: normal">_resetSubscriptions(*)</span></div></div></div></foreignObject><text x="471" y="585" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">_resetSubscriptions(*)</text></switch></g><path d="M 645 667 L 645 690 L 80 690 L 80 553.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 80 548.12 L 83.5 555.12 L 80 553.37 L 76.5 555.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 687px; margin-left: 387px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #0000FF; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; "><span style="color: rgb(0 , 0 , 0) ; white-space: normal">_resetSubscriptions([])</span></div></div></div></foreignObject><text x="387" y="690" fill="#0000FF" font-family="Helvetica" font-size="11px" text-anchor="middle">_resetSubscriptions([])</text></switch></g><ellipse cx="645" cy="647" rx="45" ry="20" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 88px; height: 1px; padding-top: 647px; margin-left: 601px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">SUBSCRIBED</div></div></div></foreignObject><text x="645" y="651" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">SUBSCRIBED</text></switch></g><path d="M 260 647 L 80 647 L 80 553.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 80 548.12 L 83.5 555.12 L 80 553.37 L 76.5 555.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 608px; margin-left: 89px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">_receiveUnsubscriptionConfirmation<br />or<br /><span style="white-space: normal">_resetSubscriptions([ ])</span></div></div></div></foreignObject><text x="89" y="611" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">_receiveUnsubscriptionConfirmation...</text></switch></g><path d="M 315 627 L 315 553.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 315 548.12 L 318.5 555.12 L 315 553.37 L 311.5 555.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 596px; margin-left: 315px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; "><span style="white-space: normal">_resetSubscriptions(*)<br />or<br /></span>addGroup<span style="white-space: normal"><br /></span></div></div></div></foreignObject><text x="315" y="599" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">_resetSubscriptions(*)...</text></switch></g><ellipse cx="315" cy="647" rx="55" ry="20" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 108px; height: 1px; padding-top: 647px; margin-left: 261px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">UNSUBSCRIBING</div></div></div></foreignObject><text x="315" y="651" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">UNSUBSCRIBING</text></switch></g><rect x="220" y="390" width="350" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 405px; margin-left: 222px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><div style="text-align: justify"><span>For each group an object is added to the state.ws.subscriptions array.</span></div><div style="text-align: justify"><span>Each object has a status that follows the following diagram</span></div></div></div></div></foreignObject><text x="222" y="408" fill="#000000" font-family="Helvetica" font-size="11px">For each group an object is added to the state.ws.subscriptions...</text></switch></g><rect x="157" y="290" width="160" height="30" fill="#ffffff" stroke="#0000ff" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 305px; margin-left: 158px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span style="color: rgb(0 , 0 , 255) ; white-space: normal ; background-color: rgb(255 , 255 , 255)">_resetSubscriptions(*)</span></div></div></div></foreignObject><text x="237" y="308" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">_resetSubscriptions(*)</text></switch></g><path d="M 599 150 L 643.5 150 L 643.5 203.63" fill="none" stroke="#0000ff" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 643.5 208.88 L 640 201.88 L 643.5 203.63 L 647 201.88 Z" fill="#0000ff" stroke="#0000ff" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 171px; margin-left: 644px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; "><font color="#0000ff">trigger</font></div></div></div></foreignObject><text x="644" y="174" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">trigger</text></switch></g><rect x="581" y="210" width="125" height="20" fill="#ffffff" stroke="#0000ff" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 123px; height: 1px; padding-top: 220px; margin-left: 582px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span style="white-space: nowrap ; background-color: rgb(255 , 255 , 255)"><font color="#0000ff">_requestSubscriptions</font></span></div></div></div></foreignObject><text x="644" y="223" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">_requestSubscriptions</text></switch></g><rect x="122" y="320" width="260" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 330px; margin-left: 252px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #0000FF; line-height: 1.2; pointer-events: all; white-space: nowrap; ">This means, change all subscriptions to PENDING</div></div></div></foreignObject><text x="252" y="333" fill="#0000FF" font-family="Helvetica" font-size="11px" text-anchor="middle">This means, change all subscriptions to PENDING</text></switch></g><ellipse cx="212" cy="811.15" rx="35" ry="20" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 68px; height: 1px; padding-top: 811px; margin-left: 178px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">N=0</div></div></div></foreignObject><text x="212" y="815" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">N=0</text></switch></g><path d="M 436 831.15 L 436 884.78" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 436 890.03 L 432.5 883.03 L 436 884.78 L 439.5 883.03 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 861px; margin-left: 436px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">removeGroup</div></div></div></foreignObject><text x="436" y="864" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">removeGroup</text></switch></g><ellipse cx="436" cy="811.15" rx="35" ry="20" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 68px; height: 1px; padding-top: 811px; margin-left: 402px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">N=N+1</div></div></div></foreignObject><text x="436" y="815" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">N=N+1</text></switch></g><path d="M 247 811.15 L 394.63 811.15" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 399.88 811.15 L 392.88 814.65 L 394.63 811.15 L 392.88 807.65 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 811px; margin-left: 324px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; "><div>addGroup<br /></div></div></div></div></foreignObject><text x="324" y="814" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">addGroup&#xa;</text></switch></g><path d="M 401 911.15 L 212 911.2 L 212 837.52" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 212 832.27 L 215.5 839.27 L 212 837.52 L 208.5 839.27 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 912px; margin-left: 308px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">removeGroup<br />(N == 1)</div></div></div></foreignObject><text x="308" y="915" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">removeGroup...</text></switch></g><ellipse cx="436" cy="911.15" rx="35" ry="20" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 68px; height: 1px; padding-top: 911px; margin-left: 402px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">N=N-1</div></div></div></foreignObject><text x="436" y="915" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">N=N-1</text></switch></g><path d="M 436 791.15 L 436 760 L 524 760 L 524 811.2 L 477.37 811.16" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 472.12 811.15 L 479.12 807.66 L 477.37 811.16 L 479.11 814.66 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 784px; margin-left: 524px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">addGroup</div></div></div></foreignObject><text x="524" y="788" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">addGroup</text></switch></g><path d="M 471 911.15 L 544 911.2 L 544 961.2 L 436 961.2 L 436 937.52" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 436 932.27 L 439.5 939.27 L 436 937.52 L 432.5 939.27 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 941px; margin-left: 546px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">removeGroup<br />(N &gt; 1)</div></div></div></foreignObject><text x="546" y="945" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">removeGroup...</text></switch></g><path d="M 308.5 931.15 L 308.5 974.78" fill="none" stroke="#0000ff" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 308.5 980.03 L 305 973.03 L 308.5 974.78 L 312 973.03 Z" fill="#0000ff" stroke="#0000ff" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 956px; margin-left: 309px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; "><font color="#0000ff">trigger</font></div></div></div></foreignObject><text x="309" y="959" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">trigger</text></switch></g><rect x="228" y="979.15" width="154" height="30" fill="#ffffff" stroke="#0000ff" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 152px; height: 1px; padding-top: 994px; margin-left: 229px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><font color="#0000ff">requestGroupRemoval</font></div></div></div></foreignObject><text x="305" y="997" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">requestGroupRemoval</text></switch></g><rect x="127" y="720" width="510" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 735px; margin-left: 129px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><div style="text-align: justify">Also, each group has a counter (N) that counts how many components have subscribed to that group.</div><div style="text-align: justify">The subscription is only removed when the counter reaches zero again</div></div></div></div></foreignObject><text x="129" y="738" fill="#000000" font-family="Helvetica" font-size="11px">Also, each group has a counter (N) that counts how many components have subscribed to that g...</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://desk.draw.io/support/solutions/articles/16000042487" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>