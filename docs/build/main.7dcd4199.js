(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{112:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"b",function(){return r}),a(34),a(12),a(67);var n=function(e,t){return function(e,t){if(void 0!==e.ws){var a=e.ws.subscriptions.filter(function(e){return t.includes(e.groupName)}),n={};return a.forEach(function(e){n[e.groupName]=e.data}),n}}(e,[t])[t]},r=function(e,t){if(void 0!==e.ws){var a=e.ws.subscriptions.filter(function(e){return e.groupName===t})[0];return{data:a?a.data:void 0,timestamp:a?a.timestamp:void 0}}}},123:function(e,t,a){e.exports={container:"Loader_container__1GSNY",loader:"Loader_loader__2s6Jv","lds-dual-ring":"Loader_lds-dual-ring__QI-fQ",text:"Loader_text__1Z9m8"}},154:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return m});var n=a(3),r=a(4),s=a(7),o=a(6),i=a(8),c=a(1),u=a.n(c),l=a(155),d=a(236),p=a.n(d),m=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(i)))).componentDidMount=function(){a.props.subscribeToStream(a.props.groupName)},a.componentWillUnmount=function(){a.props.unsubscribeToStream(a.props.groupName)},a}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.streamState?this.props.accessor(this.props.streamState[this.props.streamState.length-1]):void 0,t=this.props.stateToLabelMap[e],a=this.props.stateToStyleMap[e];return u.a.createElement("div",{className:p.a.container},u.a.createElement("div",null,this.props.label,": "),u.a.createElement(l.default,{title:t,status:a},t))}}]),t}(c.Component)},155:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return p});var n=a(3),r=a(4),s=a(7),o=a(6),i=a(8),c=a(1),u=a.n(c),l=a(40),d=a.n(l),p=function(e){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.status,t=d.a.undefined;return"ok"===e&&(t=d.a.ok),"running"===e&&(t=d.a.running),"warning"===e&&(t=d.a.warning),"alert"===e&&(t=d.a.alert),"invalid"===e&&(t=d.a.invalid),u.a.createElement("span",{title:this.props.title,className:[d.a.status,t,this.props.small?d.a.small:""].join(" ")},this.props.children)}}]),t}(c.Component)},156:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return h});var n=a(34),r=a(3),s=a(4),o=a(7),i=a(6),c=a(8),u=a(1),l=a.n(u),d=a(47),p=a(242),m=a(241),f=a.n(m),h=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(o.a)(this,Object(i.a)(t).call(this))).componentDidUpdate=function(t){var a=e.props.dateInterval;e.props.dataSources.map(function(n){var r=e.props.accessors[n],s=e.props.streamStates[n].data,o=e.props.streamStates[n].timestamp,i=n,c=!1,u={value:s?r(s):void 0,timestamp:o,source:i,dataType:"quantitative"};t.timestamp!==o&&(void 0===e.data[n]&&(e.data[n]=[]),e.data[n].push(u),c=!0);var l=new Date;return e.vegaEmbedResult&&c&&(e.data[n]=e.data[n].filter(function(e){return l-e.timestamp<a}),d.changeset().remove(function(){return!0}).insert(e.data[n])),0})},e.getCSSColorByVariableName=function(t){return getComputedStyle(e.vegaContainer.current).getPropertyValue(t)},e.remountPlot=function(t){e.data={};var a=Object.assign({config:{padding:15,axis:{labelColor:e.getCSSColorByVariableName("--base-font-color"),titleColor:e.getCSSColorByVariableName("--base-font-color"),grid:!1},legend:{labelColor:e.getCSSColorByVariableName("--base-font-color"),titleColor:e.getCSSColorByVariableName("--base-font-color"),titleLimit:2560,labelLimit:210,orient:"right"},view:{width:e.props.width,height:e.props.height,fill:e.getCSSColorByVariableName("--second-secondary-background-color"),stroke:"none",strokeWidth:0}}},t);Object(p.a)(e.vegaContainer.current,a,{renderer:"svg",actions:!1}).then(function(t){e.vegaEmbedResult=t})},e.changeSpec=function(t,a){var r=e.getSpecDataType(e.props.dataType),s=e.props.encoding;return{$schema:"https://vega.github.io/schema/vega-lite/v3.json",description:"Google's stock price over time.",layer:Object.keys(e.props.layers).map(function(a){var o=e.props.layers[a];return{data:{values:t,name:a},mark:Object(n.a)({type:"quantitative"===r?"line":"point"},o.mark),encoding:{x:Object(n.a)({field:"timestamp",type:"temporal",title:"date",axis:{format:"%X",labelOverlap:"parity"}},s.x),y:Object(n.a)({field:"value",type:r,title:e.props.dataLabel},s.y),color:Object(n.a)({field:"source",type:"nominal",legend:{title:"Parameter Names".concat(" ".repeat(32))}},s.color)}}})}},e.getSpecDataType=function(e){return"String"===e?"nominal":"quantitative"},e.componentDidMount=function(){e.remountPlot(e.changeSpec([{value:void 0,timestamp:new Date,source:e.props.dataLabel,dataType:"quantitative"}],e.props.dataLabel)),e.props.dataSources.map(function(t){var a=e.props.groupNames[t];return e.props.subscribeToStream(a),0})},e.componentWillUnmount=function(){e.props.dataSources.map(function(t){var a=e.props.groupNames[t];return e.props.unsubscribeToStream(a),0})},e.vegaContainer=l.a.createRef(),e.vegaEmbedResult=null,e.data={},e.state={specDataType:"quantitative",specName:"stream"},e}return Object(c.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return this.vegaEmbedResult&&this.props.dataSources.map(function(t){var a=d.changeset().remove(function(){return!0}).insert(e.data[t]);return e.vegaEmbedResult.view.change(t,a).run(),0}),l.a.createElement("div",{className:f.a.vegaContainer,ref:this.vegaContainer})}}]),t}(u.Component);h.vegaSchema="https://vega.github.io/schema/vega-lite/v3.json",h.defaultProps={spec:{$schema:h.vegaSchema,description:"A simple bar chart with embedded data.",data:{values:[{a:"A",b:28},{a:"B",b:55},{a:"C",b:43},{a:"D",b:91},{a:"E",b:81},{a:"F",b:53},{a:"G",b:19},{a:"H",b:87},{a:"I",b:52}]},mark:"bar",encoding:{x:{field:"a",type:"ordinal"},y:{field:"b",type:"quantitative"}}},dataLabel:"",dateInterval:6e4,encoding:{},width:300,height:100,dateEnd:1/0,dateStart:-1/0}},208:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return p});var n=a(3),r=a(4),s=a(7),o=a(6),i=a(8),c=a(1),u=a.n(c),l=a(23),d=a.n(l),p=function(e){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e={default:d.a.btnDefault,primary:d.a.btnPrimary,success:d.a.btnSuccess,info:d.a.btnInfo,warning:d.a.btnWarning,danger:d.a.btnDanger,link:d.a.btnLink},t={large:d.a.btnLG,default:"",small:d.a.btnSM,"extra-small":d.a.btnXS},a=[d.a.btn,e[this.props.status],t[this.props.size],this.props.className].join(" ");return u.a.createElement("button",{title:this.props.title,className:a,type:this.props.type,onClick:this.props.onClick},this.props.children," ")}}]),t}(c.Component);p.defaultProps={status:"default",size:"default",onClick:function(){},className:"",title:"",type:"button"}},209:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return p});var n=a(3),r=a(4),s=a(7),o=a(6),i=a(8),c=a(1),u=a.n(c),l=a(70),d=a.n(l),p=function(e){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.isNarrow?d.a.narrow:"";return u.a.createElement("div",{className:[d.a.backgroundBar,this.props.backgroundClass].join(" "),title:this.props.title},u.a.createElement("span",{className:[d.a.percentage,this.props.percentage>50?d.a.dark:""].join(" ")},this.props.displayPercentage?"".concat(this.props.percentage.toFixed(0),"%"):null),u.a.createElement("div",{style:{width:"".concat(Math.min(this.props.percentage,100),"%"),animationDuration:"".concat(this.props.animationDuration,"s")},className:[d.a.loadedBar,e].join(" ")}))}}]),t}(c.Component);p.defaultProps={percentage:0,title:"Completion percentage",displayPercentage:!0,isNarrow:!1,backgroundClass:"",animationDuration:0}},210:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return p});var n=a(3),r=a(4),s=a(7),o=a(6),i=a(8),c=a(1),u=a.n(c),l=a(80),d=a.n(l),p=function(e){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=[d.a.panel,this.props.className].join(" ");return u.a.createElement("div",{className:e},u.a.createElement("div",{className:d.a.panelHeading},u.a.createElement("h3",{className:d.a.panelTitle},this.props.title)),u.a.createElement("div",{className:d.a.panelBody},this.props.children))}}]),t}(c.Component);p.defaultProps={title:"",className:""}},23:function(e,t,a){e.exports={btn:"Button_btn__IYZ_J",disabled:"Button_disabled__2BjpS",btnLG:"Button_btnLG__2eMs6",btnSM:"Button_btnSM__3kYw5",btnXS:"Button_btnXS__35Z_H",btnDefault:"Button_btnDefault__rtZ1T",active:"Button_active__1f5LZ",btnPrimary:"Button_btnPrimary__1g06b",btnSuccess:"Button_btnSuccess__33Dd0",btnInfo:"Button_btnInfo__3n_aK",btnWarning:"Button_btnWarning__378DR",btnDanger:"Button_btnDanger__Dluy4",btnLink:"Button_btnLink__GxM04"}},235:function(e,t,a){e.exports={arrow:"RightArrowIcon_arrow__39LSl"}},236:function(e,t,a){e.exports={container:"LabeledStatusText_container__34WyW"}},241:function(e,t,a){e.exports={vegaContainer:"TimeSeriesPlot_vegaContainer__39Qiy"}},246:function(e,t,a){a(247),e.exports=a(453)},247:function(e,t,a){},36:function(e,t,a){e.exports={container:"Limits_container__2xKMG",backgroundBar:"Limits_backgroundBar__1aq1M",currentValue:"Limits_currentValue__stK-o",targetValue:"Limits_targetValue__1U1IN",text:"Limits_text__2N5_q",top:"Limits_top__2oyCb",bottom:"Limits_bottom__1XNjH"}},40:function(e,t,a){e.exports={status:"StatusText_status__2bMLY",small:"StatusText_small__ZotyO",ok:"StatusText_ok__1geUd",warning:"StatusText_warning__25Q--",alert:"StatusText_alert__EbE-F",running:"StatusText_running__3yoMu"}},421:function(e,t,a){var n={react:a(1)},r=a(60).default.bind(null,n);a(61).default.bind(null,"const React$0 = require('react');\nconst React = React$0.default || React$0;",r),e.exports=[{type:"markdown",content:'The LOVE-frontend is the user interface of the LSST Operation and Visualization Environment (L.O.V.E.) project. It is written as a web application written using ReactJS and Redux.\n\nThe LOVE-frontend interacts with the rest of the LOVE system through the [LOVE-manager](https://lsst-ts.github.io/LOVE-manager/html/index.html). The LOVE-frontend is a client-side web-application, that is, it is built as static content (javascript, html and css) that is interpreted and executed in the client\'s web browser. The LOVE-manager instead is a server-side application, that is executed in the LSST Servers, along with the rest of the system.\n\n![frontend details](/Frontend_overview.svg "Overview")\n\nWhen a user navigates to the LOVE-frontend for the first time, the only available view is the Login. After the user inserts its credentials (username and password), the LOVE-frontend sends the credentials to the LOVE-manager through an HTTP request. The LOVE-manager responds to the request with an access token (if the credentials are valid) or with an error if not.\n\nAfter the user logs in successfully, the LOVE-frontend validates the token in each new navigation, sending it to the LOVE-manager and waiting for a confirmation before allowing navigation. This way, if the token is expired, the response will state so and the LOVE-frontend will logout the user automatically. After logging-in the LOVE-frontend also establishes a websocket connection with the LOVE-manager\n\nOnce the LOVE-frontend renders a component that requires data from the LSST, it sends a subscription message to the LOVE-manager stating to which data (telemetries, events, etc) it needs to subscribe. The LOVE-manager then sends that information to the LOVE-frontend through the same websockets connection.\n\nTo see more details of how these messages are structured see the section ["How to use it"](https://lsst-ts.github.io/LOVE-manager/html/modules/how_to_use_it.html) of the documentation of the LOVE-manager'}]},422:function(e,t,a){var n={react:a(1)},r=a(60).default.bind(null,n);a(61).default.bind(null,"const React$0 = require('react');\nconst React = React$0.default || React$0;",r),e.exports=[{type:"markdown",content:"![frontend details](/details.svg \"Logo Title Text 1\")\n\n## Redux: Global state management\n\n[Redux](https://redux.js.org/) is a state container library that facilitates building more predictable apps by centralizing both the state and its changes. In LOVE, a Redux `store` is used to save all the data that comes from the LOVE-manager, enabling having a unique websockets connection per client, avoiding unnecessary data redundancy, while also giving a robust characterization to the authentication process. \n\nThe state is described by a dictionary (Javascript object). Changes to this state are performed by `reducers` in response to `actions` `dispatched` by React `Components` . What does it mean? Simply put, `reducers` are functions that take the current state of the `app` (e.g., `ATDome` is in FAULT state) and return the new `sate` given the information contained in an `action` (e.g. update `ATDome` to FAULT state); a `dispatch` is a function call that enables a React component to connect to the state and send `actions`. This is thoroughly described in the [official documentation](https://redux.js.org/basics/basic-tutorial).\n\nThe structure of LOVE-frontend state is as follows:\n\n```md\n{\n    auth: ...,\n    ws: ...,\n    camera: ...,\n    heartbeats: ...,\n    summaryData: ...\n}\n```\n\nEach of its branches (topmost keys) are handled by a separate reducer through the `combineReducers` utility of Redux. Each of the \n\n## Container and presentational components\n\nApart from the global state stored in Redux, each component handles its own state with specific information for its own elements. This leads to the distinction of `Container` components and `Presentational` components. Container components are meant to wrap Presentational components to abstract them from all the logic of reading the global state. Containers can read the Redux state through the usage of `selectors`, which are functions (located at `src/redux/selectors`) that receive a copy of the state object and return some data for which they are designed. Selectors are meant to be reused across components so if the state tree were to change, changing the selector should be sufficient to recover the functionality of all related components. Changes to the state are made by `dispatching` `actions`. This is wrapped in the Container component with callbacks tha are passed to Presentational components. The Presentational components use this and other input `props`, and possibly internal state variables to render the component to the users on their screens.\n\n## State tree\n\n### `auth` - Authentication\n\n```md\n{\n  username: '',\n  token: null,\n  status: tokenStates.EMPTY,\n  permissions: {\n    cmd_exec: false,\n  }\n}\n```\n\n-   `username`: Input at login screen.\n-   `token`: Authentication token that is validated by the LOVE-manager. It can come  from a LOVE-manager HTTP response or browser's `localstorage`, if the user was logged in succesfuly before.\n-   `status`: State of the currently stored token. The `token` state can go from `EMPTY` to `RECEIVED` and fail for several reasons such as expiration (after some time), rejection (if password changed for example), etc.\n-   `permissions`: Dictionary with flags about the permissions of the logged in user. Right now it is useful to decide if command-related interfaces should be rendered or not, or if should be rendered differently.\n\n### `ws` - Websockets\n\n```md\n{\n  connectionState: connectionStates.CLOSED,\n  subscriptions: [],\n  lastSALCommand: {\n    status: SALCommandStatus.EMPTY,\n    cmd: '',\n    params: {},\n    component: '',\n    salindex: 0\n  },\n}\n```\n\n-   `connectionState`: Describes the status of the websocket connection, which can be `OPENING`, `OPEN`, `CLOSED` and `ERROR`.\n-   `subscriptions`: List with the data of the last received telemetries and events. Each element has this structure:\n\n```md\n{\n    groupName,\n    confirmationMessage,\n    data // optional\n}\n```\n\nwhere `groupName` is name of the group of the subscription (e.g., `event-ScriptQueue-1-summaryState`); `confirmationMessage` is a string returned by the LOVE-manager confirming the subscription to the group; and `data` is a dictionary containing all the parameters of the group message.\n\n### `camera`- Camera state\n\n```md\n{\n  raftsDetailedState: 'UNKNOWN',\n  imageReadinessDetailedState: 'UNKNOWN',\n  calibrationDetailedState: 'UNKNOWN',\n  shutterDetailedState: 'UNKNOWN',\n  imageSequence: {},\n}\n```\n\n-   `raftsDetailedState`: Read directly from the `event-ATCamera-1-raftsDetailedState` group.\n-   `imageReadinessDetailedState`: Read directly from the `event-ATCamera-1-imageReadinessDetailedState` group.\n-   `calibrationDetailedState`: Read directly from the `event-ATCamera-1-calibrationDetailedState` group.\n-   `shutterDetailedState`: Read directly from the `event-ATCamera-1-shutterDetailedState` group.\n-   `imageSequence`: This is a placeholder for the images being processed, indexed in a dictionary by their name and contain information of the following groups, which refer to the different stages of the image acquisition:\n\n```md\nevent-ATCamera-1-startIntegration\nevent-ATCamera-1-startReadout\nevent-ATCamera-1-endReadout\nevent-ATCamera-1-endOfImageTelemetry\nevent-ATCamera-1-imageReadoutParameters\n```\n\nThis data is colected after being added to the `ws.subscriptions` state because the information comes in separate groups and otherwise only the latest CSC info would be available.\n\n### `heartbeats`- CSC heartbeats\n\n```md\n{\n  scripts: [],\n  cscs: [],\n};\n```\n\n-   `scripts`: A list with heartbeat info of each script in the ScriptQueue. Read from the `event-ScriptHeartbeats-{salindex}-stream`, with `salindex` refers to the ScriptQueue component where those scripts were loaded. \n-   `cscs`: A list with heartbeat info of every CSC. Read from the `event-Heartbeats-0-stream` group.\n\nThis data is colected after being added to the `ws.subscriptions` state because the information comes in separate groups and otherwise only the latest CSC info would be available.\n\n### `summaryData` - CSC Summary data\n\n```md\n  logMessageData: [],\n  errorCodeData: [],\n}\n```\n\n-   `logMessageData`: A list with all messages received from the `logMessage` event of each CSC since the frontend started.\n-   `errorCodeData`: A list with all messages received from the `errorCode` event of each CSC since the frontend started.\n\nThis data is colected after being added to the `ws.subscriptions` state so the history of the `logMessage`  and `errorCode` events is available to components such as the `CSCSummary`."}]},423:function(e,t,a){e.exports={description:"Generic button implemented on top of the `<button>` tag\nenabling simple manipulation of its style depending on the given props.\nIt can also receive a callback for the `onClick` event and will render\nthe child component between the `<Button>` tags.\n",displayName:"Button",methods:[],props:[{type:{name:"union",value:[{name:"string"},{name:"array"},{name:"object"}]},required:!1,description:"",tags:{},name:"children"},{type:{name:"string"},required:!1,description:"Aditional names of css classes to be applied after the presets.",defaultValue:{value:"''",computed:!1},tags:{},name:"className"},{type:{name:"func"},required:!1,description:"Callback for the onClick event of the `<button>` element.",defaultValue:{value:"() => {}",computed:!1},tags:{},name:"onClick"},{type:{name:"string"},required:!1,description:"Changes the geometry of the button to make it look bigger/smaller according to these values:\n\n*large*: Makes a large button\n*small*: Makes a small button\n*extra-small*: Makes an extra small button",defaultValue:{value:"'default'",computed:!1},tags:{},name:"size"},{type:{name:"string"},required:!1,description:"Changes the color combination according to its value.\nPossible values are:\n\n*default*: Indicates a default/standard button\n\n*primary*: Provides extra visual weight and identifies the primary action in a set of buttons\n\n*success*: Indicates a successful or positive action\n\n*info*: Contextual button for informational alert messages\n\n*warning*: Indicates caution should be taken with this action\n\n*danger*: Indicates a dangerous or potentially negative action\n\n*link*: Makes a button look like a link (will still have button behavior)",defaultValue:{value:"'default'",computed:!1},tags:{},name:"status"},{type:{name:"string"},required:!1,description:"Title of the button to be displayed as a tooltip.",defaultValue:{value:"''",computed:!1},tags:{},name:"title"},{type:{name:"string"},required:!1,description:"Type for the button.",defaultValue:{value:"'button'",computed:!1},tags:{},name:"type"}],doclets:{},tags:{},examples:a(424)}},424:function(e,t,a){var n={react:a(1),"./Button.jsx":a(208)},r=a(60).default.bind(null,n),s=a(61).default.bind(null,"const React$0 = require('react');\nconst React = React$0.default || React$0;\nconst Button$0 = require('./Button.jsx');\nconst Button = Button$0.default || Button$0;",r);e.exports=[{type:"markdown",content:"### Examples\n\nButton with default props:"},{type:"code",content:"<Button>Default</Button>",settings:{},evalInContext:s},{type:"markdown",content:"Different combinations of status and size:\n\n#### Large size"},{type:"code",content:"<div style={{\n    display:'flex',\n    flexWrap: 'wrap',\n    justifyContent:'flext-start'}}>\n    <Button size='large' status='default'>Default</Button>\n    <Button size='large' status='primary'>Primary</Button>\n    <Button size='large' status='success'>Success</Button>\n    <Button size='large' status='info'>Info</Button>\n    <Button size='large' status='warning'>Warning</Button>\n    <Button size='large' status='danger'>Danger</Button>\n    <Button size='large' status='link'>Link</Button>\n</div>",settings:{},evalInContext:s},{type:"markdown",content:"#### Default size"},{type:"code",content:"<div style={{\n    display:'flex',\n    flexWrap: 'wrap',\n    justifyContent:'flext-start'}}>\n    <Button status='default'>Default</Button>\n    <Button status='primary'>Primary</Button>\n    <Button status='success'>Success</Button>\n    <Button status='info'>Info</Button>\n    <Button status='warning'>Warning</Button>\n    <Button status='danger'>Danger</Button>\n    <Button status='link'>Link</Button>\n</div>",settings:{},evalInContext:s},{type:"markdown",content:"#### Small size"},{type:"code",content:"<div style={{\n    display:'flex',\n    flexWrap: 'wrap',\n    justifyContent:'flext-start'}}>\n    <Button size='small' status='default'>Default</Button>\n    <Button size='small' status='primary'>Primary</Button>\n    <Button size='small' status='success'>Success</Button>\n    <Button size='small' status='info'>Info</Button>\n    <Button size='small' status='warning'>Warning</Button>\n    <Button size='small' status='danger'>Danger</Button>\n    <Button size='small' status='link'>Link</Button>\n</div>",settings:{},evalInContext:s},{type:"markdown",content:"#### Extra small size"},{type:"code",content:"<div style={{\n    display:'flex',\n    flexWrap: 'wrap',\n    justifyContent:'flext-start'}}>\n    <Button size='extra-small' status='default'>Default</Button>\n    <Button size='extra-small' status='primary'>Primary</Button>\n    <Button size='extra-small' status='success'>Success</Button>\n    <Button size='extra-small' status='info'>Info</Button>\n    <Button size='extra-small' status='warning'>Warning</Button>\n    <Button size='extra-small' status='danger'>Danger</Button>\n    <Button size='extra-small' status='link'>Link</Button>\n</div>",settings:{},evalInContext:s}]},425:function(e,t,a){e.exports={description:"",displayName:"CurrentTargetValue",methods:[],props:[{type:{name:"union",value:[{name:"number"},{name:"string"}]},required:!1,description:"Current value",defaultValue:{value:"0",computed:!1},tags:{},name:"currentValue"},{type:{name:"bool"},required:!1,description:"Whether the value is still reaching the target value",tags:{},name:"isChanging"},{type:{name:"union",value:[{name:"number"},{name:"string"}]},required:!1,description:"Target value",defaultValue:{value:"0",computed:!1},tags:{},name:"targetValue"}],doclets:{},examples:null}},426:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(119),o=a(112),i=a(68),c=a(154);t.default=Object(s.a)(function(e,t){return{streamState:Object(o.a)(e,t.groupName)}},function(e){return{subscribeToStream:function(t){e(Object(i.a)(t))},unsubscribeToStream:function(t){e(Object(i.b)(t))}}})(function(e){var t=e.streamState,a=e.groupName,n=e.subscribeToStream,s=e.unsubscribeToStream,o=e.label,i=e.accessor,u=e.stateToLabelMap,l=e.stateToStyleMap;return r.a.createElement(c.default,{streamState:t,groupName:a,label:o,accessor:i,stateToLabelMap:u,stateToStyleMap:l,subscribeToStream:n,unsubscribeToStream:s})})},428:function(e,t,a){e.exports={description:"",displayName:"LabeledStatusTextContainer",methods:[],doclets:{},examples:null}},429:function(e,t,a){e.exports={description:"",displayName:"LabeledStatusText",methods:[],doclets:{},examples:null}},430:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return p});var n=a(3),r=a(4),s=a(7),o=a(6),i=a(8),c=a(1),u=a.n(c),l=a(36),d=a.n(l),p=function(e){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.lowerLimit,a=e.upperLimit,n=this.props,r=n.currentValue,s=n.targetValue,o=this.props.height,i=o/7,c=5+90*(r-t)/(a-t),l=5+90*(s-t)/(a-t),p=o/3;return u.a.createElement("div",{className:d.a.container},u.a.createElement("svg",{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 100 ".concat(o),className:d.a.container},u.a.createElement("line",{className:d.a.backgroundBar,x1:5,y1:o/2+p,x2:95,y2:o/2+p,strokeWidth:i}),u.a.createElement("rect",{className:d.a.currentValue,x:c-.5,y:o/3+p,height:o/3,width:1,strokeWidth:0}),u.a.createElement("line",{className:d.a.targetValue,x1:l,y1:o/3+p,x2:l,y2:2*o/3+p}),this.props.displayLabels&&u.a.createElement(u.a.Fragment,null,u.a.createElement("text",{className:[d.a.text,d.a.bottom].join(" "),x:5,y:o/2+p+i/2},t,"\xba"),u.a.createElement("text",{className:[d.a.text,d.a.bottom].join(" "),x:95,y:o/2+p+i/2},a,"\xba"))))}}]),t}(c.Component);p.defaultProps={lowerLimit:0,upperLimit:100,currentValue:30,targetValue:60,displayLabels:!0,height:15}},431:function(e,t,a){e.exports={description:"",displayName:"Limits",methods:[],props:[{type:{name:"number"},required:!1,description:"",defaultValue:{value:"30",computed:!1},tags:{},name:"currentValue"},{type:{name:"bool"},required:!1,description:"",defaultValue:{value:"true",computed:!1},tags:{},name:"displayLabels"},{type:{name:"number"},required:!1,description:"",defaultValue:{value:"15",computed:!1},tags:{},name:"height"},{type:{name:"number"},required:!1,description:"",defaultValue:{value:"0",computed:!1},tags:{},name:"lowerLimit"},{type:{name:"number"},required:!1,description:"",defaultValue:{value:"60",computed:!1},tags:{},name:"targetValue"},{type:{name:"number"},required:!1,description:"",defaultValue:{value:"100",computed:!1},tags:{},name:"upperLimit"}],doclets:{},examples:null}},432:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return p});var n=a(3),r=a(4),s=a(7),o=a(6),i=a(8),c=a(1),u=a.n(c),l=a(123),d=a.n(l),p=function(e){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return this.props.display&&u.a.createElement("div",{className:d.a.container},u.a.createElement("div",{className:d.a.loader}),u.a.createElement("div",{className:d.a.text},this.props.message))}}]),t}(c.Component)},433:function(e,t,a){e.exports={description:"",displayName:"Loader",methods:[],props:[{type:{name:"bool"},required:!1,description:"",tags:{},name:"display"}],doclets:{},examples:null}},434:function(e,t,a){e.exports={description:"",displayName:"LoadingBar",methods:[],props:[{type:{name:"number"},required:!1,description:"Time in seconds to take for animating loading process",defaultValue:{value:"0",computed:!1},tags:{},name:"animationDuration"},{type:{name:"string"},required:!1,description:"Wheter to display percentage inside bar",defaultValue:{value:"''",computed:!1},tags:{},name:"backgroundClass"},{type:{name:"bool"},required:!1,description:"Wheter to display percentage inside bar",defaultValue:{value:"true",computed:!1},tags:{},name:"displayPercentage"},{type:{name:"bool"},required:!1,description:"Wheter to display percentage inside bar",defaultValue:{value:"false",computed:!1},tags:{},name:"isNarrow"},{type:{name:"number"},required:!1,description:"Percentage of Loading bar to display as progress",defaultValue:{value:"0",computed:!1},tags:{},name:"percentage"},{type:{name:"string"},required:!1,description:"Title of Loading bar to display when hovering",defaultValue:{value:"'Completion percentage'",computed:!1},tags:{},name:"title"}],doclets:{},examples:a(435)}},435:function(e,t,a){var n={react:a(1),"./LoadingBar.jsx":a(209)},r=a(60).default.bind(null,n),s=a(61).default.bind(null,"const React$0 = require('react');\nconst React = React$0.default || React$0;\nconst LoadingBar$0 = require('./LoadingBar.jsx');\nconst LoadingBar = LoadingBar$0.default || LoadingBar$0;",r);e.exports=[{type:"markdown",content:"Example:"},{type:"code",content:"  <LoadingBar percentage={70}/>",settings:{},evalInContext:s}]},436:function(e,t,a){e.exports={description:"A generic placeholder with a title that can be used\nas a window or frame.\n",displayName:"Panel",methods:[],props:[{type:{name:"object"},required:!1,description:"",tags:{},name:"children"},{type:{name:"string"},required:!1,description:"",defaultValue:{value:"''",computed:!1},tags:{},name:"className"},{type:{name:"string"},required:!1,description:"Text to be displayed in the title",defaultValue:{value:"''",computed:!1},tags:{},name:"title"}],doclets:{},tags:{},examples:a(437)}},437:function(e,t,a){var n={react:a(1),"./Panel.jsx":a(210)},r=a(60).default.bind(null,n),s=a(61).default.bind(null,"const React$0 = require('react');\nconst React = React$0.default || React$0;\nconst Panel$0 = require('./Panel.jsx');\nconst Panel = Panel$0.default || Panel$0;",r);e.exports=[{type:"markdown",content:"Example:"},{type:"code",content:"    <Panel title='A good title'>\n        <div>\n            Lorem ipsum dolor sit amet consectetur adipiscing, elit gravida massa rhoncus nibh, pretium sociosqu rutrum ultricies augue. Felis massa maecenas molestie penatibus nec montes cum eros vitae vivamus dictum etiam vulputate, tempus facilisi odio ridiculus nam nascetur sagittis quam sodales suscipit ultricies. Lobortis eu gravida interdum ut dis facilisis faucibus, vestibulum posuere quam maecenas phasellus ligula, nulla praesent ad inceptos vitae nibh. Cursus posuere nunc odio congue vehicula dictum nibh penatibus natoque aliquet eget, netus magna et viverra nostra duis facilisis vestibulum condimentum.\n            <br/>\n        </div>\n    </Panel>",settings:{},evalInContext:s}]},438:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return d});var n=a(3),r=a(4),s=a(7),o=a(6),i=a(8),c=a(1),u=a.n(c),l=a(244),d=function(e){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(r.a)(t,[{key:"renderSubComponent",value:function(e){if(this.props.token){var t=this.props.component;return void 0!==t?u.a.createElement(t,this.props):this.props.render()}return u.a.createElement(l.a,{to:{pathname:"/login",state:{from:e.location}}})}},{key:"render",value:function(){var e=this,t=this.props.rest;return u.a.createElement(l.b,Object.assign({},t,{render:function(t){return e.renderSubComponent(t)}}))}}]),t}(c.Component)},444:function(e,t,a){e.exports={description:"",displayName:"PrivateRoute",methods:[],doclets:{},examples:null}},445:function(e,t,a){e.exports={description:"",displayName:"StatusText",methods:[],props:[{type:{name:"string"},required:!1,description:"",tags:{},name:"children"},{type:{name:"bool"},required:!1,description:"",tags:{},name:"small"},{type:{name:"string"},required:!1,description:"",tags:{},name:"status"},{type:{name:"string"},required:!1,description:"",tags:{},name:"title"}],doclets:{},examples:null}},446:function(e,t,a){"use strict";a.r(t);var n=a(243),r=a(1),s=a.n(r),o=a(119),i=a(112),c=a(68),u=a(156);t.default=Object(o.a)(function(e,t){var a={};return t.dataSources.map(function(n){var r=t.groupNames[n],s=Object(i.b)(e,r);return a[n]={data:s.data,timestamp:s.timestamp},0}),{streamStates:a}},function(e){return{subscribeToStream:function(t){e(Object(c.a)(t))},unsubscribeToStream:function(t){e(Object(c.b)(t))}}})(function(e){var t=e.streamStates,a=e.groupName,r=e.accessor,o=e.subscribeToStream,i=e.unsubscribeToStream,c=Object(n.a)(e,["streamStates","groupName","accessor","subscribeToStream","unsubscribeToStream"]);return s.a.createElement(u.default,Object.assign({streamStates:t,groupName:a,accessor:r,subscribeToStream:o,unsubscribeToStream:i},c))})},448:function(e,t,a){e.exports={description:"",displayName:"TimeSeriesPlotContainer",methods:[],doclets:{},examples:null}},449:function(e,t,a){e.exports={description:"Simple wrapper around the Vega-lite visualization package.\nIt receives the plot spec and embeds the plot in the DOM using React refs.\n",displayName:"TimeSeriesPlot",methods:[],props:[{defaultValue:{value:"''",computed:!1},required:!1,description:"",tags:{},name:"dataLabel"},{type:{name:"string"},required:!1,description:"",tags:{},name:"dataType"},{type:{name:"any"},required:!1,description:"",defaultValue:{value:"Infinity",computed:!0},tags:{},name:"dateEnd"},{defaultValue:{value:"60000",computed:!1},required:!1,description:"",tags:{},name:"dateInterval"},{type:{name:"any"},required:!1,description:"",defaultValue:{value:"-Infinity",computed:!1},tags:{},name:"dateStart"},{defaultValue:{value:"{}",computed:!1},required:!1,description:"",tags:{},name:"encoding"},{type:{name:"number"},required:!1,description:"",defaultValue:{value:"100",computed:!1},tags:{},name:"height"},{type:{name:"array"},required:!1,description:"",tags:{},name:"historicalData"},{type:{name:"array"},required:!1,description:"",tags:{},name:"lastMessageData"},{type:{name:"object"},required:!1,description:"Object that defines the properties to be used by Vega-lite",defaultValue:{value:"{\n  $schema: TimeSeriesPlot.vegaSchema,\n  description: 'A simple bar chart with embedded data.',\n  data: {\n    values: [\n      { a: 'A', b: 28 },\n      { a: 'B', b: 55 },\n      { a: 'C', b: 43 },\n      { a: 'D', b: 91 },\n      { a: 'E', b: 81 },\n      { a: 'F', b: 53 },\n      { a: 'G', b: 19 },\n      { a: 'H', b: 87 },\n      { a: 'I', b: 52 },\n    ],\n  },\n  mark: 'bar',\n  encoding: {\n    x: { field: 'a', type: 'ordinal' },\n    y: { field: 'b', type: 'quantitative' },\n  },\n}",computed:!1},tags:{},name:"spec"},{type:{name:"string"},required:!1,description:"",tags:{},name:"telemetryName"},{type:{name:"number"},required:!1,description:"",defaultValue:{value:"300",computed:!1},tags:{},name:"width"}],doclets:{},tags:{},examples:null}},450:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return p});var n=a(3),r=a(4),s=a(7),o=a(6),i=a(8),c=a(1),u=a.n(c),l=a(55),d=a.n(l),p=function(e){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return u.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 56 66.5"},u.a.createElement("path",{className:d.a.colorOne,d:"M56.12,38.35,38.7,34.83a10.83,10.83,0,0,0-5.11-5.11L30.07,12.3a1.09,1.09,0,0,0-2.14,0L24.41,29.72a10.83,10.83,0,0,0-5.11,5.11L1.88,38.35a1.09,1.09,0,0,0,0,2.14L19.3,44a10.85,10.85,0,0,0,5.11,5.1l3.52,17.42a1.09,1.09,0,0,0,2.14,0l3.52-17.42A10.85,10.85,0,0,0,38.7,44l17.42-3.53a1.09,1.09,0,0,0,0-2.14ZM37.71,42a1.08,1.08,0,0,0-.79.66,8.66,8.66,0,0,1-4.7,4.7,1.08,1.08,0,0,0-.66.79L29,60.81,26.44,48.13a1.06,1.06,0,0,0-.66-.79,8.61,8.61,0,0,1-4.69-4.7,1.12,1.12,0,0,0-.8-.66L7.61,39.42l12.68-2.56a1.09,1.09,0,0,0,.8-.66,8.56,8.56,0,0,1,4.69-4.69,1.09,1.09,0,0,0,.66-.8L29,18l2.56,12.67a1.12,1.12,0,0,0,.66.8,8.61,8.61,0,0,1,4.7,4.69,1.06,1.06,0,0,0,.79.66l12.68,2.56Z",transform:"translate(-1 -.92)"}),u.a.createElement("path",{className:d.a.colorOne,d:"M29,33.94a5.48,5.48,0,1,0,5.48,5.48A5.49,5.49,0,0,0,29,33.94Zm0,8.78a3.3,3.3,0,1,1,3.3-3.3A3.29,3.29,0,0,1,29,42.72Z",transform:"translate(-1 -.92)"}),u.a.createElement("path",{className:d.a.colorOne,d:"M10.31,34.73a1.13,1.13,0,0,0,.32.05,1.08,1.08,0,0,0,1-.77A18.13,18.13,0,0,1,23.59,22.1,1.09,1.09,0,0,0,22.94,20,20.32,20.32,0,0,0,9.59,33.36,1.09,1.09,0,0,0,10.31,34.73Z",transform:"translate(-1 -.92)"}),u.a.createElement("path",{className:d.a.colorOne,d:"M47.7,44.11a1.1,1.1,0,0,0-1.37.72A18.17,18.17,0,0,1,34.41,56.75a1.09,1.09,0,0,0-.72,1.37,1.1,1.1,0,0,0,1.05.76.93.93,0,0,0,.32-.05A20.26,20.26,0,0,0,48.41,45.48,1.1,1.1,0,0,0,47.7,44.11Z",transform:"translate(-1 -.92)"}),u.a.createElement("path",{className:d.a.colorOne,d:"M48.41,33.36A20.3,20.3,0,0,0,35.06,20a1.09,1.09,0,1,0-.65,2.09A18.13,18.13,0,0,1,46.33,34a1.08,1.08,0,0,0,1,.77,1.26,1.26,0,0,0,.33-.05A1.09,1.09,0,0,0,48.41,33.36Z",transform:"translate(-1 -.92)"}),u.a.createElement("path",{className:d.a.colorTwo,d:"M31,7.12,26.94,1.65h0V7.12h-.18V1.42H27l4.09,5.46h0V1.42h.18v5.7Z",transform:"translate(-1 -.92)"}))}}]),t}(c.Component)},451:function(e,t,a){e.exports={description:"",displayName:"WindRose",methods:[],doclets:{},examples:null}},452:function(e,t,a){var n={react:a(1)},r=a(60).default.bind(null,n);a(61).default.bind(null,"const React$0 = require('react');\nconst React = React$0.default || React$0;",r),e.exports=[{type:"markdown",content:"This sections documents a few components of the LOVE-frontend. More components will be added soon."}]},454:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a(4),s=a(7),o=a(6),i=a(8),c=a(1),u=a.n(c),l=a(78),d=a.n(l),p=a(235),m=a.n(p),f=function(e){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return u.a.createElement("svg",{"data-name":"Layer 1",viewBox:"0 0 16.39 12.34"},u.a.createElement("title",null,"target-arrow"),u.a.createElement("path",{className:m.a.arrow,fill:"none",stroke:"#f9f9f9",strokeLinecap:"round",strokeLinejoin:"round",d:"M.0 6.24l9.72-.07L10.17.5l5.72 5.62-5.63 5.72-.02-2.52"}))}}]),t}(c.Component);f.defaultProps={style:""},a.d(t,"default",function(){return h});var h=function(e){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.currentValue!==this.props.targetValue;return u.a.createElement("span",{className:d.a.statusTextWrapper},u.a.createElement("span",{className:d.a.telemetryValue},this.props.currentValue,"\xba"),e?u.a.createElement(u.a.Fragment,null,u.a.createElement("span",{className:d.a.arrow},u.a.createElement(f,null)),u.a.createElement("span",{className:d.a.telemetryValue},this.props.targetValue,"\xba")):null)}}]),t}(c.Component);h.defaultProps={currentValue:0,targetValue:0}},55:function(e,t,a){e.exports={colorOne:"WindRose_colorOne__1BBlv",colorTwo:"WindRose_colorTwo__1LK58"}},67:function(e,t,a){"use strict";a.d(t,"c",function(){return o}),a.d(t,"a",function(){return i}),a.d(t,"b",function(){return c});var n=a(5),r=(a(12),a(3)),s=a(4);a(1),void 0===Array.prototype.flat&&Object.defineProperty(Array.prototype,"flat",{value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.reduce(function(t,a){return t.concat(Array.isArray(a)&&e-1?a.flat(e-1):a)},[])}});var o=function(e,t){function a(){}var n,r,s=t||{},o=0,i={},c=s.maxAttempts||1/0;return i.open=function(){(n=new WebSocket(e,s.protocols||[])).onmessage=s.onmessage||a,n.onopen=function(e){(s.onopen||a)(e),o=0},n.onclose=function(e){1e3===e.code||1005===e.code||i.reconnect(e),(s.onclose||a)(e)},n.onerror=function(e){e&&"ECONNREFUSED"===e.code?i.reconnect(e):(s.onerror||a)(e)}},i.reconnect=function(e){c>=o?(o+=1,r=setTimeout(function(){(s.onreconnect||a)(e),i.open()},s.timeout||1e3)):(s.onmaximum||a)(e)},i.json=function(e){n.send(JSON.stringify(e))},i.send=function(e){n.send(e)},i.close=function(e,t){clearTimeout(r),4e3===e&&(n.onclose=function(e){return(s.onclose||a)(e)},n.onerror=function(e){return(s.onerror||a)(e)}),n.close(e,t)},i.open(),i},i=function(){function e(){var t=this;Object(r.a)(this,e),this.logout=function(){t.socket&&t.socket.close(4e3),t.socket=null,t.socketPromise=null},this.subscribeToStream=function(a,n,r,s){t.callback=s;var i=e.getToken();null!==i&&(t.subscriptions.push([a,n,r]),null===t.socketPromise&&null===t.socket?t.socketPromise=new Promise(function(a){var n=e.getWebsocketsUrl()+i;console.log("Openning websocket connection to: ",n),t.socket=o(n,{onopen:function(){t.connectionIsOpen=!0,t.subscriptions.forEach(function(e){t.socket.json({option:"subscribe",category:e[0],csc:e[1],stream:e[2]})}),a()},onmessage:function(e){t.callback&&t.callback(e)},onclose:function(){t.connectionIsOpen=!1,a()},onerror:function(){a()}})}):t.socketPromise.then(function(){t.subscriptions.forEach(function(e){t.socket.json({option:"subscribe",category:e[0],csc:e[1],stream:e[2]})})}))},this.unsubscribeToStream=function(e,a,n,r){var s=t.subscriptions.map(JSON.stringify).indexOf(JSON.stringify([e,a,n]));s>-1&&t.subscriptions.splice(s,1),t.connectionIsOpen&&(t.socket.json({option:"unsubscribe",category:e,csc:a,stream:n}),t.callback=r)},this.subscribeToTelemetry=function(e,a,n){t.subscribeToStream("telemetry",e,a,n)},this.unsubscribeToTelemetry=function(e,a,n){t.unsubscribeToStream("telemetry",e,a,n)},this.subscribeToEvents=function(e,a,n){t.subscribeToStream("event",e,a,n)},this.unsubscribeToEvents=function(e,a,n){t.unsubscribeToStream("event",e,a,n)},this.callback=null,this.socket=null,this.socketPromise=null,this.subscriptions=[],this.connectionIsOpen=!1}return Object(s.a)(e,null,[{key:"getApiBaseUrl",value:function(){return"http://".concat(window.location.host,"/manager/api/")}},{key:"getWebsocketsUrl",value:function(){return"ws://".concat(window.location.host,"/manager/ws/subscription?token=")}},{key:"getHeaders",value:function(){var t=e.getToken();return t?new Headers({Accept:"application/json","Content-Type":"application/json",Authorization:"Token ".concat(t)}):new Headers({Accept:"application/json","Content-Type":"application/json"})}},{key:"getToken",value:function(){var e=localStorage.getItem("LOVE-TOKEN");return null===e?null:e}},{key:"removeToken",value:function(){localStorage.removeItem("LOVE-TOKEN")}},{key:"saveToken",value:function(e){return null!==e&&(localStorage.setItem("LOVE-TOKEN",e),!0)}},{key:"requestToken",value:function(t,a){var n="".concat(this.getApiBaseUrl(),"get-token/"),r={username:t,password:a};return fetch(n,{method:"POST",headers:this.getHeaders(),body:JSON.stringify(r)}).then(function(e){return e.json()}).then(function(t){var a=t.token;return null!=a&&e.saveToken(a),a})}},{key:"validateToken",value:function(){var t=this;if(null===e.getToken())return new Promise(function(e){return e(!1)});var a="".concat(this.getApiBaseUrl(),"validate-token/");return fetch(a,{method:"GET",headers:this.getHeaders()}).then(function(a){return a.status>=500?(e.removeToken(),!1):401===a.status||403===a.status?(e.removeToken(),!1):a.json().then(function(e){return"Token is valid"===e.detail||(t.removeToken(),!1)})})}}]),e}(),c=function(e,t){var a;return(a=[]).concat.apply(a,Object(n.a)(e.map(t)))}},68:function(e,t,a){"use strict";var n=a(12),r=a(34),s=a(67);a.d(t,"a",function(){return d}),a.d(t,"b",function(){return p});var o,i,c="OPEN",u=function(e){return{type:"CHANGE_WS_STATE",connectionState:e}},l=function(){var e=s.a.getToken(),t=s.a.getWebsocketsUrl()+e;return function(e,a){u("OPENING"),i=new Promise(function(a){o=Object(s.c)(t,{onopen:function(){e(u(c)),a()},onmessage:function(t){if(t.data){var a=JSON.parse(t.data);if(a.category){if("event"===a.category){var n=a.data[0].data;if("ATCamera"===a.data[0].csc&&(n.startIntegration||n.endReadout||n.startReadout||n.endOfImageTelemetry?e(function(e){var t,a;return e.startIntegration?(a=e.startIntegration,t="INTEGRATING"):e.startReadout?(a=e.startReadout,t="READING_OUT"):e.endReadout?(a=e.endReadout,t="END_READOUT"):e.endOfImageTelemetry&&(a=e.endOfImageTelemetry,t="END_TELEMETRY"),{type:"RECEIVE_IMAGE_SEQUENCE_DATA",data:a,imageState:t}}(n)):n.imageReadoutParameters?e(function(e){return{type:"RECEIVE_READOUT_DATA",data:e.imageReadoutParameters}}(n)):(n.startIntegration||n.raftsDetailedState||n.shutterDetailedState||n.imageReadinessDetailedState||n.calibrationDetailedState)&&e(function(e){var t,a;return e.raftsDetailedState?(t=e.raftsDetailedState,a="raftsDetailedState"):e.shutterDetailedState?(t=e.shutterDetailedState,a="shutterDetailedState"):e.imageReadinessDetailedState?(t=e.imageReadinessDetailedState,a="imageReadinessDetailedState"):e.calibrationDetailedState&&(t=e.calibrationDetailedState,a="calibrationDetailedState"),{type:"RECEIVE_CAMERA_STATE_DATA",data:t,cameraStateKey:a}}(n))),"ScriptHeartbeats"===a.data[0].csc&&(n.stream.script_heartbeat.salindex||n.stream.script_heartbeat.lost||n.stream.script_heartbeat.last_heartbeat_timestamp)){var s=a.data[0].salindex;e(function(e,t){return{type:"UPDATE_SCRIPT_HEARTBEAT",data:{queueSalIndex:t,salindex:e.salindex,lost:e.lost,lastHeartbeatTimestamp:e.last_heartbeat_timestamp}}}(n.stream.script_heartbeat,s))}if("ScriptQueueState"===a.data[0].csc&&n.stream.finished_scripts){var o=n.stream.finished_scripts.map(function(e){return e.index});e(function(e){return{type:"REMOVE_SCRIPTS_HEARTBEATS",salIndices:e}}(o))}"Heartbeat"===a.data[0].csc&&e(function(e){return{type:"UPDATE_CSC_HEARTBEATS",data:e}}(n.stream)),a.data[0].data.logMessage&&e(function(e,t,a){return{type:"UPDATE_LOG_MESSAGE_DATA",csc:e,salindex:t,messages:a}}(a.data[0].csc,a.data[0].salindex,a.data[0].data.logMessage)),a.data[0].data.errorCode&&e(function(e,t,a){return{type:"UPDATE_ERROR_CODE_DATA",csc:e,salindex:t,errorCodeData:a}}(a.data[0].csc,a.data[0].salindex,a.data[0].data.errorCode))}"ack"===a.category&&e(m("ACK",a.data[0].data.stream.result)),a.data.forEach(function(t){e(function(e){return{type:"RECEIVE_GROUP_SUBSCRIPTION_DATA",category:e.category,csc:e.csc,salindex:e.salindex,data:e.data}}(Object(r.a)({category:a.category},t)))})}else e(function(e){return{type:"RECEIVE_GROUP_CONFIRMATION_MESSAGE",data:e}}(a.data))}},onclose:function(){e(u("CLOSED"))},onerror:function(){e(u("ERROR")),a()}})})}},d=function e(t){return function(a,r){if(!i)return a(l()),void setTimeout(function(){return a(e(t))},1e3);var s=t.split("-"),u=Object(n.a)(s,4),d=u[0],p=u[1],m=u[2],f=u[3];i.then(function(){var e=r();e.ws.connectionState!==c&&console.warn("Can not subscribe to ".concat(t,", websocket connection status is: ").concat(e.ws.connectionState)),o.json({option:"subscribe",category:d,csc:p,salindex:m,stream:f}),a(function(e){return{type:"ADD_GROUP_SUBSCRIPTION",groupName:e}}(t))})}},p=function e(t){return function(a,r){if(!i)return a(l()),void setTimeout(function(){return a(e(t))},1e3);var s=t.split("-"),u=Object(n.a)(s,4),d=u[0],p=u[1],m=u[2],f=u[3];i.then(function(){var e=r();e.ws.connectionState!==c&&console.warn("Can not subscribe to ".concat(t,", websocket connection status is: ").concat(e.ws.connectionState)),o.json({option:"unsubscribe",category:d,csc:p,salindex:m,stream:f})})}},m=function(e,t){return{type:"UPDATE_LAST_SAL_COMMAND_STATUS",status:e,result:t}}},70:function(e,t,a){e.exports={backgroundBar:"LoadingBar_backgroundBar__2QVXx",loadedBar:"LoadingBar_loadedBar__39FHO",narrow:"LoadingBar_narrow__3CNgd",percentage:"LoadingBar_percentage__1dzF6",dark:"LoadingBar_dark__2VknD"}},78:function(e,t,a){e.exports={statusTextWrapper:"CurrentTargetValue_statusTextWrapper__2wCyc",telemetryValue:"CurrentTargetValue_telemetryValue__1nGOC",statusGroupWrapper:"CurrentTargetValue_statusGroupWrapper__3SqFw",arrow:"CurrentTargetValue_arrow__3V8dV",blinker:"CurrentTargetValue_blinker__-eLeP"}},80:function(e,t,a){e.exports={panel:"Panel_panel__9rlPl",panelHeading:"Panel_panelHeading__10bJ5",panelTitle:"Panel_panelTitle__3ktR1",panelBody:"Panel_panelBody__210k1"}}},[[246,1,2]]]);